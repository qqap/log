<link rel="stylesheet" href="../style.css">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="../default.css">
<script src="../highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<title>Theming in Chromium</title>

<div class="main">
<h1>Theming in Chromium</h1>

<style type="text/css">
mark {
    background:yellow;
    color:gray;
}
mark span {
    background:inherit;
    color:inherit;
}
</style>

<pre><code>absl::optional<SkColor> BrowserFrame::GetUserColor() const {
    
    ++   content::WebContents* web_contents = browser_view_->browser()->tab_strip_model()->GetActiveWebContents();
    ++   
    ++   if (web_contents) {
    ++       absl::optional<SkColor> color = web_contents->GetThemeColor();
    ++       if (color){
    ++           if (color.has_value()) {
    ++               LOG(INFO) << "theme-color: " << std::hex << color.value() << std::setw(6) << std::setfill('0');
    ++               return SkColorSetA(color.value(), SK_AlphaOPAQUE);
    ++           }
    ++       }
    ++   }
        
    const auto* theme_service = ThemeServiceFactory::GetForProfile(browser_view_->browser()->profile());
    return theme_service->UsingAutogeneratedTheme()
}</code></pre>
</div>